# =============================================================================
# ChiroClickCRM v2.0.0 - Environment Configuration
# =============================================================================
# Copy this file to .env and edit as needed.
# Desktop mode requires minimal configuration - most defaults work out of the box.

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
API_VERSION=v1

# -----------------------------------------------------------------------------
# Desktop Mode (set to true for standalone desktop app)
# -----------------------------------------------------------------------------
DESKTOP_MODE=true

# -----------------------------------------------------------------------------
# Database
# DB_ENGINE=pglite  -> Embedded PostgreSQL (no install needed, desktop default)
# DB_ENGINE=postgres -> External PostgreSQL (Docker/SaaS)
# -----------------------------------------------------------------------------
DB_ENGINE=pglite

# PostgreSQL settings (only needed if DB_ENGINE=postgres)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=chiroclickcrm
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------------------------------------------------------------------
# Cache
# CACHE_ENGINE=memory -> In-memory Map (desktop default, no install needed)
# CACHE_ENGINE=redis  -> Redis (Docker/SaaS)
# -----------------------------------------------------------------------------
CACHE_ENGINE=memory

# Redis settings (only needed if CACHE_ENGINE=redis)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# Authentication (local sessions - no cloud auth needed)
# -----------------------------------------------------------------------------
JWT_SECRET=your_jwt_secret_here_change_in_production
JWT_EXPIRES_IN=24h
SESSION_SECRET=your_session_secret_here_must_be_at_least_32_characters

# -----------------------------------------------------------------------------
# Encryption (CRITICAL - for sensitive data like fodselsnummer)
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
# -----------------------------------------------------------------------------
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_ALGORITHM=aes-256-cbc

# Key Rotation (GDPR compliance)
KEY_ROTATION_DAYS=90

# -----------------------------------------------------------------------------
# AI Integration (Ollama - local models, optional)
# Install Ollama from https://ollama.ai, then run: cd ai-training && build-model.bat
# -----------------------------------------------------------------------------
AI_ENABLED=false
AI_MODEL=chiro-no
AI_MODEL_FAST=chiro-fast
AI_MODEL_NORWEGIAN=chiro-norwegian
AI_MODEL_MEDICAL=chiro-medical
OLLAMA_BASE_URL=http://localhost:11434
AI_KEEP_ALIVE=2m

# -----------------------------------------------------------------------------
# Email (optional - nodemailer)
# -----------------------------------------------------------------------------
ENABLE_EMAIL=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_password
SMTP_FROM_NAME=ChiroClickCRM
SMTP_FROM_EMAIL=noreply@chiroclickcrm.no

# -----------------------------------------------------------------------------
# SMS (optional - desktop mode uses IPC/clipboard)
# -----------------------------------------------------------------------------
ENABLE_SMS=false
PHONE_BRIDGE_METHOD=manual

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:5173

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_SMS_ENABLED=false
FEATURE_EMAIL_ENABLED=false
FEATURE_AUTO_RECALLS=true
FEATURE_ONLINE_BOOKING=false

# -----------------------------------------------------------------------------
# Norwegian Compliance
# -----------------------------------------------------------------------------
TIMEZONE=Europe/Oslo
DEFAULT_LANGUAGE=NO
GDPR_DATA_RETENTION_YEARS=10

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
